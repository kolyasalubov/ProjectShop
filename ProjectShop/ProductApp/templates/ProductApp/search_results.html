{% extends "UserApp/_base.html" %}

{% load i18n %}


{% block category %}

    {% for category in categories %}

        <a href="#">{{ category.name }}</a>

    {% endfor %}

{% endblock category %}


{% block content %}

    <h1>Search Results</h1>

    {% for product in products %}

    <img src="{{ product.media.all.first.image.url }}" style="width:200px" alt="A product image">
    <a href="#"><p>{{ product.name }}</p></a>
    <p>{% translate "Product price:" %} {{ product.price }}</p>

    {% endfor %}

    {% if is_paginated %}

        {% if page_obj.has_previous %}
            <a href="?page=1">{% translate "First" %}</a>
            <a href="?page={{ page_obj.previous_page_number }}">{% translate "Previous" %}</a>
        {% endif %}

        {% for num in page_obj.paginator.page_range %}
            {% if page_obj.number == num %}
                <a href="?page={{ num }}">{{ num }}</a>
            {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                <a href="?page={{ num }}">{{ num }}</a>
            {% endif %}
        {% endfor %}

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">{% translate "Next" %}</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">{% translate "Last" %}</a>
        {% endif %}

    {% endif %}

{% endblock content %}
